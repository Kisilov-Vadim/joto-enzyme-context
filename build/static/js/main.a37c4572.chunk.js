(window["webpackJsonpjotto-hooks"]=window["webpackJsonpjotto-hooks"]||[]).push([[0],{18:function(e,t,n){e.exports=n(43)},23:function(e,t,n){},24:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(13),o=n.n(s),u=(n(23),n(1)),c=n(14),l=(n(24),n(3)),i=n.n(l),d=n(15),g=n(16),m=n.n(g),f={getSecretWord:function(){var e=Object(d.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.datamuse.com/words?ml=ringing+in+the+ears");case 2:n=e.sent,r=Math.floor(Math.random()*(n.data.length-0))+0,t(n.data[r].word);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},p=a.a.createContext("en"),v=a.a.createContext();var h={SuccessProvider:function(e){var t=a.a.useState(!1),n=Object(u.a)(t,2),r=n[0],s=n[1],o=a.a.useMemo(function(){return[r,s]},[r]);return a.a.createElement(v.Provider,Object.assign({value:o},e))},useSuccess:function(){var e=a.a.useContext(v);if(!e)throw new Error("useSuccess must be used within a SuccessProvider");return e}},b=a.a.createContext();var E={GuessedWordsProvider:function(e){var t=a.a.useState([]),n=Object(u.a)(t,2),r=n[0],s=n[1],o=a.a.useMemo(function(){return[r,s]},[r]);return a.a.createElement(b.Provider,Object.assign({value:o},e))},useGuessedWords:function(){var e=a.a.useContext(b);if(!e)throw new Error("useGuessedWords must be used within a GuessedWordsProvider");return e}};var y=function(e){var t=e.setLanguage,n=[{code:"en",symbol:"\ud83c\uddfa\ud83c\uddf8"},{code:"emoji",symbol:"\ud83d\ude0a"}].map(function(e){return a.a.createElement("span",{key:e.code,onClick:function(){return t(e.code)}},e.symbol)});return a.a.createElement("div",null,n)},w=n(17),O={en:{congrats:"Congratulations! You guessed the word!",submit:"Submit",guessPrompt:"Try to guess the secret word!",guessInputPlaceholder:"enter guess",guessColumnHeader:"Guessed Words",guessedWords:"Guesses",matchingLettersColumnHeader:"Matching Letters"},emoji:{congrats:"\ud83c\udfaf\ud83c\udf89",submit:"\ud83d\ude80",guessPrompt:"\ud83e\udd14\ud83e\udd2b\ud83d\udd24",guessInputPlaceholder:"\u2328\ufe0f\ud83e\udd14",guessedWords:"\ud83e\udd37\u200d\ud83d\udd24",guessColumnHeader:"\ud83e\udd37\u200d",matchingLettersColumnHeader:"\u2705"}};var j={getStringByLanguage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return n[e]&&n[e][t]?n[e][t]:(console.warn("Could not get string [".concat(t,"] for [").concat(e,"]")),n.en[t])}};var S=function(e){var t=e.secretWord,n=a.a.useContext(p),r=h.useSuccess(),s=Object(u.a)(r,2),o=s[0],c=s[1],l=E.useGuessedWords(),i=Object(u.a)(l,2),d=i[0],g=i[1],m=a.a.useState(""),f=Object(u.a)(m,2),v=f[0],b=f[1];return o?null:a.a.createElement("div",null,a.a.createElement("form",{className:"form-inline"},a.a.createElement("input",{className:"mb-2 mx-sm-3",type:"text",placeholder:j.getStringByLanguage(n,"guessInputPlaceholder"),value:v,onChange:function(e){return b(e.target.value)}}),a.a.createElement("button",{onClick:function(e){e.preventDefault();var n=function(e,t){var n=t.split(""),r=new Set(e);return n.filter(function(e){return r.has(e)}).length}(v,t),r=[].concat(Object(w.a)(d),[{guessedWord:v,letterMatchCount:n}]);g(r),v===t&&c(!0),b("")},className:"btn btn-primary mb-2"},j.getStringByLanguage(n,"submit"))))},W=function(){var e=h.useSuccess(),t=Object(u.a)(e,1)[0],n=a.a.useContext(p);return t?a.a.createElement("div",{className:"alert alert-success"},a.a.createElement("span",null,j.getStringByLanguage(n,"congrats"))):a.a.createElement("div",null)},P=function(){var e,t=E.useGuessedWords(),n=Object(u.a)(t,1)[0],r=a.a.useContext(p);if(0===n.length)e=a.a.createElement("span",null,j.getStringByLanguage(r,"guessPrompt"));else{var s=n.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.guessedWord),a.a.createElement("td",null,e.letterMatchCount))});e=a.a.createElement("div",null,a.a.createElement("h3",null,j.getStringByLanguage(r,"guessedWords")),a.a.createElement("table",{className:"table table-sm"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",null,a.a.createElement("th",null,j.getStringByLanguage(r,"guessColumnHeader")),a.a.createElement("th",null,j.getStringByLanguage(r,"matchingLettersColumnHeader")))),a.a.createElement("tbody",null,s)))}return a.a.createElement("div",null,e)};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){switch(t.type){case"setSecretWord":return L({},e,{secretWord:t.payload});case"setLanguage":return L({},e,{language:t.payload});default:throw new Error("Invalid action type: ".concat(t.type))}}var k=function(){var e=a.a.useReducer(x,{secretWord:null,language:"en"}),t=Object(u.a)(e,2),n=t[0],r=t[1],s=function(e){return r({type:"setSecretWord",payload:e})};return a.a.useEffect(function(){f.getSecretWord(s)},[]),n.secretWord?a.a.createElement("div",{className:"container"},a.a.createElement("h1",null,"Jotto"),a.a.createElement(p.Provider,{value:n.language},a.a.createElement(y,{setLanguage:function(e){return r({type:"setLanguage",payload:e})}}),a.a.createElement(E.GuessedWordsProvider,null,a.a.createElement(h.SuccessProvider,null,a.a.createElement(W,null),a.a.createElement(S,{secretWord:n.secretWord})),a.a.createElement(P,null)))):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"spinner-border",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading...")),a.a.createElement("p",null,"Loading secret word"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.a37c4572.chunk.js.map